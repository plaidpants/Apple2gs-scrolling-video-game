         case  on         copy  globals.asmClearKeyboard start         sep   #$20         longa off         sta   >$E0C010         rep   #$20         longa on         rtl         endKeypressed start         sep   #$20         longa off         lda   >$E0C000         asl   a         rep   #$20         longa on         lda   #0         rol   a         rtl         endKey      start         sep   #$20         longa off         lda   >$E0C000         and   #$7F         rep   #$20         longa on         rtl         endWaitKeyboard startloop     jsl   Keypressed         beq   loop         jsl   ClearKeyboard         rtl         endWaitVBL  start         sep   #$20         longa offWait1    lda   >$E0C019         bmi   Wait1Wait2    lda   >$E0C019         bpl   Wait2         rep   #$20         longa on         rtl         endSHROn    start         sep   #$20         longa off         lda   >$E0C029         ora   #$80         sta   >$E0C029         rep   #$20         longa on         rtl         endSHROff   start         sep   #$20         longa off         lda   >$E0C029         and   #$7F         sta   >$E0C029         rep   #$20         longa on         rtl         endLinearOn start         sep   #$20         longa off         lda   >$E0C029         ora   #$40         sta   >$E0C029         rep   #$20         longa on         rtl         endLinearOff start         sep   #$20         longa off         lda   >$E0C029         and   #$BF         sta   >$E0C029         rep   #$20         longa on         rtl         endShadowOn start         sep   #$20         longa off         lda   >$E0C035         and   #$F7         sta   >$E0C035         rep   #$20         longa on         rtl         endShadowOff start         sep   #$20         longa off         lda   >$E0C035         ora   #$08         sta   >$E0C035         rep   #$20         longa on         rtl         end