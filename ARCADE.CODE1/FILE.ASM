         keep  /apw.code/arcade.code/file.e         mcopy /apw.code/arcade.code/file.macros         copy  /apw.code/arcade.code/globals.asm         copy  2/ainclude/e16.prodosReadFile Start;standard read file routine         using GSOSParam         _Open openparam         bcs   bad         lda   refnum         sta   wrefnum         _read readparam         bcc   ok         _Close closeparam         bra   badok       _close closeparam         bcs   bad         rtsbad      sec         rts         endGSOSParam data;data for standard read fileopenparam anopcloseparam anoprefnum   ds    2                        reference # for rd/wt/closepath     ds    4                        pathname to openiobuffer ds    4                        loc of gs/os buffer:not usedcreateparam  anopdestroyparam  anopcpath     ds    4                       pathname of file to create/destroyaccess    dc    i'$C3'                  access: rd/write/rename/deletetype      dc    i'$06'                  binary file typeaux       ds    4                       ignore aux typestorage   dc    i'1'                    create as seedlingcreat     dc    i4'0'                   0:system will date stampwriteparam  anopreadparam  anopwrefnum   ds    2                       refence numberbuf       ds    4                       i/o buffer addresscount     ds    4                       number of bytes to read/writetrans     ds    4                       bytes actually transfered (result)         end